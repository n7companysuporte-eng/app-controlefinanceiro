<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finance App</title>

<style>
:root{
  --primary:#2ecc71;
  --secondary:#f4d03f;
  --bg:#f6f7f9;
  --card:#ffffff;
  --text:#1f2937;
}

*{box-sizing:border-box;}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:var(--bg);
  color:var(--text);
}

.app{
  max-width:430px;
  margin:auto;
  min-height:100vh;
  padding:20px 16px 80px;
}

header{
  font-size:22px;
  font-weight:600;
  margin-bottom:15px;
}

.card{
  background:var(--card);
  border-radius:22px;
  padding:18px;
  margin-bottom:14px;
  box-shadow:0 10px 25px rgba(0,0,0,.05);
  animation:fade .4s;
}

@keyframes fade{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:none;}
}

.saldo{
  font-size:28px;
  font-weight:700;
}

.semaforo{
  margin-top:6px;
  font-weight:600;
}

.progress{
  height:8px;
  background:#eee;
  border-radius:10px;
  overflow:hidden;
  margin-top:8px;
}

.progress div{
  height:100%;
  background:var(--secondary);
  width:0%;
  transition:.4s;
}

.nav{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  background:#fff;
  display:flex;
  border-top:1px solid #eee;
}

.nav button{
  flex:1;
  padding:14px;
  background:none;
  border:none;
  font-size:14px;
  font-weight:600;
}

.nav button.active{
  color:var(--primary);
}

input,select{
  width:100%;
  padding:14px;
  margin-bottom:10px;
  border-radius:14px;
  border:1px solid #ddd;
  font-size:15px;
}

button.action{
  background:var(--primary);
  color:#fff;
  border:none;
  padding:16px;
  width:100%;
  border-radius:18px;
  font-size:16px;
  font-weight:600;
  transition:.3s;
}

button.action:active{
  transform:scale(.96);
}

.list{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.item{
  background:#fff;
  padding:14px;
  border-radius:16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.item small{
  color:#777;
}

.remove{
  color:#ef4444;
  font-size:18px;
  cursor:pointer;
}

.toast{
  position:fixed;
  top:20px;
  left:50%;
  transform:translateX(-50%);
  background:#111;
  color:#fff;
  padding:12px 16px;
  border-radius:14px;
  font-size:14px;
  animation:fade .4s;
}
</style>
</head>

<body>
<div class="app">

<header>ðŸ’³ Finance App</header>

<!-- HOME -->
<section id="home">
  <div class="card">
    <div class="saldo" id="saldo">R$ 0</div>
    <div class="semaforo" id="semaforo">ðŸŸ¢ SituaÃ§Ã£o saudÃ¡vel</div>
  </div>

  <div class="card">
    <strong>Lazer do mÃªs</strong>
    <div class="progress"><div id="lazerBar"></div></div>
    <small id="lazerInfo">R$ 0 / R$ 0</small>
  </div>
</section>

<!-- ADD -->
<section id="add" style="display:none">
  <input id="desc" placeholder="DescriÃ§Ã£o">
  <input id="valor" type="number" placeholder="Valor">
  <input id="data" type="date">

  <select id="tipo">
    <option value="renda">Renda</option>
    <option value="gasto">Gasto</option>
  </select>

  <select id="categoria">
    <option>SalÃ¡rio</option>
    <option>Freelancer</option>
    <option>AlimentaÃ§Ã£o</option>
    <option>Transporte</option>
    <option>Lazer</option>
    <option>Streaming</option>
    <option>Viagem</option>
  </select>

  <input id="limite" type="number" placeholder="Limite mensal de lazer">

  <button class="action" onclick="add()">Salvar</button>
</section>

<!-- EXTRATO -->
<section id="lista" style="display:none">
  <div class="list" id="extrato"></div>
</section>

<!-- RELATORIO -->
<section id="relatorio" style="display:none">
  <div class="card" id="rel"></div>
</section>

</div>

<nav class="nav">
  <button class="active" onclick="tab('home',this)">Home</button>
  <button onclick="tab('add',this)">Adicionar</button>
  <button onclick="tab('lista',this)">Extrato</button>
  <button onclick="tab('relatorio',this)">RelatÃ³rios</button>
</nav>

<script>
let dados=JSON.parse(localStorage.getItem("app"))||[]
let limite=localStorage.getItem("limite")||0

const rendaMsgs=["Saldo subiu ðŸ’š","Boa entrada ðŸ’¸","Mais perto das metas ðŸŽ¯","Dinheiro bem-vindo","GestÃ£o top ðŸ˜Ž"]
const gastoMsgs=["Eita ðŸ˜…","CartÃ£o sentiu","Foi necessÃ¡rio? ðŸ‘€","Saldo piscou âš ï¸","Controle Ã© tudo"]

function toast(msg){
  const t=document.createElement("div")
  t.className="toast"
  t.innerText=msg
  document.body.appendChild(t)
  setTimeout(()=>t.remove(),2500)
}

function tab(id,el){
  document.querySelectorAll("section").forEach(s=>s.style.display="none")
  document.querySelectorAll(".nav button").forEach(b=>b.classList.remove("active"))
  document.getElementById(id).style.display="block"
  el.classList.add("active")
}

function add(){
  const item={desc:desc.value,valor:+valor.value,tipo:tipo.value,categoria:categoria.value,data:data.value}
  dados.push(item)
  localStorage.setItem("app",JSON.stringify(dados))
  localStorage.setItem("limite",limite.value)
  toast(item.tipo=="renda"?rendaMsgs[Math.random()*5|0]:gastoMsgs[Math.random()*5|0])
  render()
}

function render(){
  let saldo=0,lazer=0
  extrato.innerHTML=""
  dados.forEach((d,i)=>{
    saldo+=d.tipo=="renda"?d.valor:-d.valor
    if(d.categoria=="Lazer") lazer+=d.valor
    extrato.innerHTML+=`
    <div class="item">
      <div>
        <strong>${d.desc}</strong><br>
        <small>${d.categoria} â€¢ R$ ${d.valor}</small>
      </div>
      <span class="remove" onclick="del(${i})">âœ–</span>
    </div>`
  })
  saldo.innerText=`R$ ${saldo}`
  semaforo.innerText=saldo>0?"ðŸŸ¢ SaudÃ¡vel":saldo==0?"ðŸŸ¡ AtenÃ§Ã£o":"ðŸ”´ Alerta"
  lazerInfo.innerText=`R$ ${lazer} / R$ ${limite}`
  lazerBar.style.width=limite?Math.min(lazer/limite*100,100)+"%":"0%"
  rel.innerHTML=`Entradas e saÃ­das: ${dados.length}<br>Lazer total: R$ ${lazer}`
}

function del(i){
  dados.splice(i,1)
  localStorage.setItem("app",JSON.stringify(dados))
  render()
}

render()
</script>
</body>
</html>
